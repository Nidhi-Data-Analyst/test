function generateSignature() {
    var name = document.getElementById("name").value;
    var designation = document.getElementById("designation").value;
    var phone = document.getElementById("phone").value;
    var email = document.getElementById("email").value;
    var linkedin = document.getElementById("linkedin").value;
    var campus = document.getElementById("campus").value;
    var profilePic = document.getElementById("profilePic").files[0];

    var reader = new FileReader();

    reader.onloadend = function () {
        var profilePicSrc = reader.result;

        var signatureHTML = `
        <div style="font-family: Arial, sans-serif; font-size: 14px; color: #333; max-width: 600px;">
            <div style="display: flex; align-items: center;">
                <div style="margin-right: 15px;">
                    <img src="${profilePicSrc}" alt="Profile Picture" style="width: 80px; height: 80px; border-radius: 50%; object-fit: cover;">
                </div>
                <div>
                    <strong>${name}</strong><br>
                    <span>${designation}</span><br>
                    <a href="${linkedin}" style="text-decoration: none; color: #0e76a8;"><img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/linkedin-icon.png?raw=true" alt="LinkedIn" style="width: 16px; height: 16px; vertical-align: middle;"> LinkedIn</a><br>
                </div>
            </div>
            <div style="margin-top: 15px; border-top: 1px solid #e1e1e1; padding-top: 15px;">
                <div style="display: flex; align-items: center;">
                    <div style="margin-right: 10px;">
                        <img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/shiv-nadar-logo.png?raw=true" alt="Shiv Nadar School" style="width: 120px;">
                    </div>
                    <div>
                        <span>Noida | Gurgaon | Faridabad | Delhi | Chennai | Core Office</span><br>
                        <span>${campus}</span>
                    </div>
                </div>
                <div style="margin-top: 10px;">
                    <img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/phone-icon.png?raw=true" alt="Phone" style="width: 16px; height: 16px; vertical-align: middle;"> ${phone}<br>
                    <img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/email-icon.png?raw=true" alt="Email" style="width: 16px; height: 16px; vertical-align: middle;"> ${email}<br>
                    <img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/website-icon.png?raw=true" alt="Website" style="width: 16px; height: 16px; vertical-align: middle;"> <a href="https://shivnadarschool.edu.in/" style="text-decoration: none; color: #007bff;">https://shivnadarschool.edu.in/</a>
                </div>
                <div style="margin-top: 10px;">
                    <a href="https://www.facebook.com/shivnadarschool"><img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/facebook-icon.png?raw=true" alt="Facebook" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;"></a>
                    <a href="https://www.instagram.com/shivnadarschool"><img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/instagram-icon.png?raw=true" alt="Instagram" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;"></a>
                    <a href="https://www.youtube.com/shivnadarschool"><img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/youtube-icon.png?raw=true" alt="YouTube" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;"></a>
                    <a href="https://www.linkedin.com/school/shiv-nadar-school/"><img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/linkedin-icon.png?raw=true" alt="LinkedIn" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 5px;"></a>
                    <a href="https://www.twitter.com/shivnadarschool"><img src="https://github.com/Nidhi-Data-Analyst/Email-Signature/blob/main/twitter-icon.png?raw=true" alt="Twitter" style="width: 24px; height: 24px; vertical-align: middle;"></a>
                </div>
            </div>
        </div>
        `;

        document.getElementById("signature-preview").innerHTML = signatureHTML;
    };

    if (profilePic) {
        reader.readAsDataURL(profilePic);
    } else {
        reader.onloadend();
    }
}

function copyToClipboard() {
    var signatureHTML = document.getElementById("signature-preview").innerHTML;
    var tempInput = document.createElement("textarea");
    tempInput.value = signatureHTML;
    document.body.appendChild(tempInput);
    tempInput.select();
    document.execCommand("copy");
    document.body.removeChild(tempInput);
    alert("Signature copied to clipboard!");
}

function copyToSignatureRescue() {
    var signatureHTML = document.getElementById("signature-preview").innerHTML;
    var tempInput = document.createElement("textarea");
    tempInput.value = signatureHTML;
    document.body.appendChild(tempInput);
    tempInput.select();
    document.execCommand("copy");
    document.body.removeChild(tempInput);
    alert("Signature copied to clipboard! Now paste it into Signature Rescue.");
}
